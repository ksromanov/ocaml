
cmm:
(data)
(data
 int 3063
 global "camlWith_locations_native__set_of_closures_29"
 "camlWith_locations_native__set_of_closures_29":
 global "camlWith_locations_native__fib_5_closure"
 "camlWith_locations_native__fib_5_closure":
 addr "camlWith_locations_native__fib_5"
 int 3)
(data
 global "camlWith_locations_native__gc_roots"
 "camlWith_locations_native__gc_roots":
 int 0)
(function{with_locations_native.ml:8,14-72} camlWith_locations_native__fib_5
     (n/84: val)
 (if (<a 3 n/84)
   (let
     Paddint_arg/91
       (app{with_locations_native.ml:10,23-34}
         "camlWith_locations_native__fib_5" (+ n/84 -4) val)
     (+
       (+
         (app{with_locations_native.ml:10,9-20}
           "camlWith_locations_native__fib_5" (+ n/84 -2) val)
         Paddint_arg/91)
       -1))
   3))

*** After instruction selection
camlWith_locations_native__fib_5(R/0[%rax]) {with_locations_native.ml:8,14-72}
  n/29 := R/0[%rax]
  if n/29 >u 3 then
    I/31 := n/29
    I/31 := I/31 + -4{with_locations_native.ml:10,27-34}
    R/0[%rax] := I/31
    R/0[%rax] := call "camlWith_locations_native__fib_5" R/0[%rax]{with_locations_native.ml:10,23-34}
    Paddint_arg/32 := R/0[%rax]
    I/33 := n/29
    I/33 := I/33 + -2{with_locations_native.ml:10,13-20}
    R/0[%rax] := I/33
    R/0[%rax] := call "camlWith_locations_native__fib_5" R/0[%rax]{with_locations_native.ml:10,9-20}
    V/34 := R/0[%rax]
    I/35 := V/34
    I/35 := I/35 + Paddint_arg/32{with_locations_native.ml:10,9-34}
    I/36 := I/35
    I/36 := I/36 + -1{with_locations_native.ml:10,9-34}
    R/0[%rax] := I/36
    return R/0[%rax]
  else
    I/30 := 3
    R/0[%rax] := I/30
    return R/0[%rax]
  endif
*** Linearized code
camlWith_locations_native__fib_5: {with_locations_native.ml:8,14-72}
  prologue
  L103:
  if n/29[%rax] <=u 3 goto L102
  spilled-n/38[s0] := n/29[%rax] (spill)
  I/31[%rax] := I/31[%rax] + -4 {with_locations_native.ml:10,27-34}
  {spilled-n/38[s0]*}
  R/0[%rax] := call "camlWith_locations_native__fib_5" R/0[%rax] {with_locations_native.ml:10,23-34}
  spilled-Paddint_arg/37[s1] := Paddint_arg/32[%rax] (spill)
  n/39[%rax] := spilled-n/38[s0] (reload)
  I/33[%rax] := I/33[%rax] + -2 {with_locations_native.ml:10,13-20}
  {spilled-Paddint_arg/37[s1]*}
  R/0[%rax] := call "camlWith_locations_native__fib_5" R/0[%rax] {with_locations_native.ml:10,9-20}
  Paddint_arg/40[%rbx] := spilled-Paddint_arg/37[s1] (reload)
  I/35[%rax] := I/35[%rax] + Paddint_arg/40[%rbx] {with_locations_native.ml:10,9-34}
  I/36[%rax] := I/36[%rax] + -1 {with_locations_native.ml:10,9-34}
  reload retaddr
  return R/0[%rax]
  L102:
  I/30[%rax] := 3
  reload retaddr
  return R/0[%rax]
  
(data
 int 1792
 global "camlWith_locations_native"
 "camlWith_locations_native":
 addr "camlWith_locations_native__fib_5_closure")
(data)
(function camlWith_locations_native__entry () 1a)

*** After instruction selection
camlWith_locations_native__entry()
  V/29 := 1
  R/0[%rax] := V/29
  return R/0[%rax]
*** Linearized code
camlWith_locations_native__entry:
  L104:
  V/29[%rax] := 1
  return R/0[%rax]
  
(data)
